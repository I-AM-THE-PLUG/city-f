// Language configuration
const translations = {
    en: {
        // Navigation
        'nav.home': 'Home',
        'nav.programmes': 'Programmes',
        'nav.research': 'Research',
        'nav.events': 'Events',
        'nav.about': 'About',
        'nav.contact': 'Contact',
        
        // Hero Section
        'hero.title': 'Welcome to City Institute of Higher Learning',
        'hero.welcome': 'Welcome to City Institute of Higher Learning, where education meets innovation and diversity. Located in the heart of Moncton, C-IHL offers a variety of programmes tailored to foster global leaders equipped with the knowledge and skills necessary for success. Join us and become part of a community that values academic integrity and inclusivity.',
        'hero.weare.1': 'We are Atlantic Canada\'s Bilingual Private Institute of Higher Learning.',
        'hero.weare.2': 'We are a research-based learning institution.',
        'hero.weare.3': 'We are powered by a global team.',
        'hero.weare.4': 'We are here to serve you.',
        'hero.weare.5': 'We are Quality.',
        'hero.cta': 'Start Your Journey',
        
        // Programmes Section
        'programmes.title': 'Programmes We Offer',
        'programmes.desc': 'We offer several higher learning diplomas and certificates geared at developing students\' research and management skills. All our programs are offered in English and/or French.',
        'programmes.academic': 'Academic Diplomas',
        'programmes.academic.desc': 'Comprehensive higher learning diplomas for professional career success and academic advancement.',
        'programmes.community': 'Community Programmes',
        'programmes.community.desc': 'Engage in cultural storytelling, language immersion, and community development initiatives.',
        'programmes.executive': 'Executive Education',
        'programmes.executive.desc': 'Advanced leadership and managerial training for experienced professionals and executives.',
        'programmes.consulting': 'Consulting Services',
        'programmes.consulting.desc': 'Expert HR development, team optimization, and strategic business guidance services.',
        'programmes.view': 'View Programmes',
        
        // Benefits Section
        'benefits.title': 'Why Choose City-IHL?',
        'benefits.desc': 'Experience education that transforms lives and builds futures with our student-centered approach.',
        'benefits.quality': 'Quality Education',
        'benefits.global': 'Global Perspective',
        'benefits.global.desc': 'Study in a multicultural environment with international exchange programs and global partnerships.',
        'benefits.faculty': 'Expert Faculty',
        'benefits.faculty.desc': 'Learn from distinguished professors and industry leaders dedicated to your academic success.',
        'benefits.career': 'Career Excellence',
        'benefits.career.desc': 'Graduate with competitive skills, professional networks, and comprehensive career support.',
        'benefits.flexible': 'Flexible Pathways',
        'benefits.flexible.desc': 'Customize your learning journey with flexible schedules and personalized academic guidance.',
        
        // Research Section
        'research.title': 'Research Excellence',
        'research.desc': 'Pioneering research that addresses global challenges and drives innovation across disciplines.',
        'research.labs': 'Innovation Labs',
        'research.labs.desc': 'State-of-the-art facilities for cutting-edge research and experimental learning.',
        'research.collaborative': 'Collaborative Projects',
        'research.collaborative.desc': 'Interdisciplinary research initiatives with industry and academic partners worldwide.',
        'research.grants': 'Research Grants',
        'research.grants.desc': 'Substantial funding opportunities for student and faculty research projects.',
        
        // Events Section
        'events.title': 'Upcoming Events',
        'events.desc': 'Join our vibrant campus community through engaging events, workshops, and cultural activities.',
        'events.openhouse': 'Open House 2024',
        'events.openhouse.desc': 'Explore our campus, meet faculty, and discover your future at C-IHL.',
        'events.symposium': 'Research Symposium',
        'events.symposium.desc': 'Annual showcase of groundbreaking research from students and faculty.',
        'events.careerfair': 'Career Fair',
        'events.careerfair.desc': 'Connect with top employers and explore career opportunities.',
        'events.learnmore': 'Learn More',
        'events.viewdetails': 'View Details',
        'events.register': 'Register Now',
        
        // Achievements Section
        'achievements.title': 'Our Impact',
        'achievements.ratio': 'Student–Teacher Ratio',
        'achievements.placement': 'Career Placement Rate',
        'achievements.students': 'Future Students',
        'achievements.programmes': 'Programmes Offered',
        
        // Footer
        'footer.about': 'City Institute of Higher Learning (C-IHL) is an advanced research-focused education institute in New Brunswick, Canada.',
        'footer.programmes': 'Programmes',
        'footer.links': 'Quick Links',
        'footer.services': 'Student Services',
        'footer.terms': 'Terms & Conditions',
        'footer.contact': 'Contact'
    },
    
    fr: {
        // Navigation
        'nav.home': 'Accueil',
        'nav.programmes': 'Programmes',
        'nav.research': 'Recherche',
        'nav.events': 'Événements',
        'nav.about': 'À propos',
        'nav.contact': 'Contact',
        
        // Hero Section
        'hero.title': 'Bienvenue à l\'Institut Urbain d\'Enseignement Supérieur',
        'hero.welcome': 'Bienvenue à l\'Institut Urbain d\'Enseignement Supérieur, où l\'éducation rencontre l\'innovation et la diversité. Situé au cœur de Moncton, l\'IUES offre une variété de programmes conçus pour former des leaders mondiaux dotés des connaissances et compétences nécessaires à la réussite. Rejoignez-nous et faites partie d\'une communauté qui valorise l\'intégrité académique et l\'inclusivité.',
        'hero.weare.1': 'Nous sommes l\'Institut Privé Bilingue d\'Enseignement Supérieur des Provinces Atlantiques.',
        'hero.weare.2': 'Nous sommes une institution d\'apprentissage basée sur la recherche.',
        'hero.weare.3': 'Nous sommes alimentés par une équipe mondiale.',
        'hero.weare.4': 'Nous sommes là pour vous servir.',
        'hero.weare.5': 'Nous sommes la Qualité.',
        'hero.cta': 'Commencez Votre Parcours',
        
        // Programmes Section
        'programmes.title': 'Programmes que nous offrons',
        'programmes.desc': 'Nous offrons plusieurs diplômes et certificats d\'enseignement supérieur visant à développer les compétences en recherche et en gestion des étudiants. Tous nos programmes sont offerts en anglais et/ou en français.',
        'programmes.academic': 'Diplômes Académiques',
        'programmes.academic.desc': 'Diplômes d\'enseignement supérieur complets pour la réussite professionnelle et l\'avancement académique.',
        'programmes.community': 'Programmes Communautaires',
        'programmes.community.desc': 'Participez à des initiatives de narration culturelle, d\'immersion linguistique et de développement communautaire.',
        'programmes.executive': 'Formation des Cadres',
        'programmes.executive.desc': 'Formation avancée en leadership et en gestion pour les professionnels et cadres expérimentés.',
        'programmes.consulting': 'Services de Conseil',
        'programmes.consulting.desc': 'Services experts en développement des RH, optimisation d\'équipe et orientation stratégique des entreprises.',
        'programmes.view': 'Voir les Programmes',
        
        // Benefits Section
        'benefits.title': 'Pourquoi choisir l\'IUES?',
        'benefits.desc': 'Vivez une éducation qui transforme des vies et construit des avenirs avec notre approche centrée sur l\'étudiant.',
        'benefits.quality': 'Éducation de Qualité',
        'benefits.global': 'Perspective Mondiale',
        'benefits.global.desc': 'Étudiez dans un environnement multiculturel avec des programmes d\'échange internationaux et des partenariats mondiaux.',
        'benefits.faculty': 'Corps Professoral Expert',
        'benefits.faculty.desc': 'Apprenez auprès de professeurs distingués et de leaders industriels dédiés à votre réussite académique.',
        'benefits.career': 'Excellence de Carrière',
        'benefits.career.desc': 'Diplômez-vous avec des compétences compétitives, des réseaux professionnels et un soutien complet à la carrière.',
        'benefits.flexible': 'Parcours Flexibles',
        'benefits.flexible.desc': 'Personnalisez votre parcours d\'apprentissage avec des horaires flexibles et un encadrement académique personnalisé.',
        
        // Add more French translations as needed...
        'translation.coming': '(Traduction française bientôt disponible)'
    },
    
    es: {
        // Navigation
        'nav.home': 'Inicio',
        'nav.programmes': 'Programas',
        'nav.research': 'Investigación',
        'nav.events': 'Eventos',
        'nav.about': 'Acerca de',
        'nav.contact': 'Contacto',
        
        // Hero Section
        'hero.title': 'Bienvenido al Instituto Ciudad de Educación Superior',
        'hero.welcome': 'Bienvenido al Instituto Ciudad de Educación Superior, donde la educación se encuentra con la innovación y la diversidad. Ubicado en el corazón de Moncton, C-IHL ofrece una variedad de programas diseñados para formar líderes globales equipados con el conocimiento y las habilidades necesarias para el éxito. Únase a nosotros y sea parte de una comunidad que valora la integridad académica y la inclusividad.',
        'hero.weare.1': 'Somos el Instituto Privado Bilingüe de Educación Superior del Atlántico Canadiense.',
        'hero.weare.2': 'Somos una institución de aprendizaje basada en la investigación.',
        'hero.weare.3': 'Somos impulsados por un equipo global.',
        'hero.weare.4': 'Estamos aquí para servirle.',
        'hero.weare.5': 'Somos Calidad.',
        'hero.cta': 'Comience Su Viaje',
        
        // Add more Spanish translations as needed...
        'translation.coming': '(Traducción al español próximamente)'
    },
    
    ar: {
        // Navigation
        'nav.home': 'الرئيسية',
        'nav.programmes': 'البرامج',
        'nav.research': 'البحث',
        'nav.events': 'الفعاليات',
        'nav.about': 'من نحن',
        'nav.contact': 'اتصل بنا',
        
        // Hero Section
        'hero.title': 'مرحبًا بكم في معهد المدينة للتعليم العالي',
        'hero.welcome': 'مرحبًا بكم في معهد المدينة للتعليم العالي، حيث يلتقي التعليم بالابتكار والتنوع. يقع في قلب مونكتون، يقدم معهد C-IHL مجموعة متنوعة من البرامج المصممة لتعزيز القادة العالميين المجهزين بالمعرفة والمهارات اللازمة للنجاح. انضم إلينا وكن جزءًا من مجتمع يقدر النزاهة الأكاديمية والشمولية.',
        'hero.weare.1': 'نحن المعهد الخاص ثنائي اللغة للتعليم العالي في كندا الأطلسية.',
        'hero.weare.2': 'نحن مؤسسة تعليمية قائمة على البحث.',
        'hero.weare.3': 'نحن مدعومون بفريق عالمي.',
        'hero.weare.4': 'نحن هنا لخدمتك.',
        'hero.weare.5': 'نحن الجودة.',
        'hero.cta': 'ابدأ رحلتك',
        
        // Add more Arabic translations as needed...
        'translation.coming': '(الترجة العربية قريباً)'
    }
};

// Language management
class LanguageManager {
    constructor() {
        this.currentLang = this.getSavedLanguage() || 'en';
        this.init();
    }
    
    init() {
        this.loadLanguage(this.currentLang);
        this.setupEventListeners();
    }
    
    getSavedLanguage() {
        return localStorage.getItem('preferred-language');
    }
    
    saveLanguage(lang) {
        localStorage.setItem('preferred-language', lang);
    }
    
    loadLanguage(lang) {
        this.currentLang = lang;
        this.updateContent(lang);
        this.updateLanguageSwitcher(lang);
        this.updateDocumentDirection(lang);
        this.saveLanguage(lang);
    }
    
    updateContent(lang) {
        const elements = document.querySelectorAll('[data-i18n]');
        
        elements.forEach(element => {
            const key = element.getAttribute('data-i18n');
            
            // Check if translation exists
            if (translations[lang] && translations[lang][key]) {
                if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    element.placeholder = translations[lang][key];
                } else {
                    element.textContent = translations[lang][key];
                }
            } else if (lang !== 'en') {
                // For untranslated content in non-English languages, you can:
                // 1. Keep English text with a note
                // 2. Show only available translations
                // Currently we'll keep the English fallback
                if (translations.en[key]) {
                    element.textContent = translations.en[key];
                }
            }
        });
    }
    
    updateLanguageSwitcher(lang) {
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.remove('active');
            if (btn.getAttribute('data-lang') === lang) {
                btn.classList.add('active');
            }
        });
    }
    
    updateDocumentDirection(lang) {
        if (lang === 'ar') {
            document.documentElement.setAttribute('dir', 'rtl');
            document.documentElement.setAttribute('lang', 'ar');
        } else {
            document.documentElement.setAttribute('dir', 'ltr');
            document.documentElement.setAttribute('lang', lang);
        }
    }
    
    setupEventListeners() {
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const lang = e.target.getAttribute('data-lang');
                this.loadLanguage(lang);
            });
        });
    }
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    new LanguageManager();
});